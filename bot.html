<!DOCTYPE html>
<html>
<head>
</head>
<body>

<body>
  <h1>Salesforce Embedded Messaging â€“ MembershipNumber tester</h1>
  <p>Enter Membership number to preload in the chat.</p>

  <label for="membershipInput">Membership Number:</label>
  <input type="text" id="membershipInput" value="9897960067" />
  <button id="loadButton" onclick="initEmbeddedMessaging()">Load Chatbot</button>


<script type='text/javascript'>
	  const loadButton = document.getElementById('loadButton');
      const membershipNumber = document.getElementById('membershipInput').value;

	function initEmbeddedMessaging() {
		try {
			embeddedservice_bootstrap.settings.language = 'en_US';            

              window.addEventListener("onEmbeddedMessagingReady", () => {

                // Send data to Salesforce
                embeddedservice_bootstrap.prechatAPI.setHiddenPrechatFields({
                "MembershipNumber" : "9897960067",
                });
              });        
        
			embeddedservice_bootstrap.init(
				'00DQz000004pGwT',
				'W3School_Test',
				'https://collinsonlifestyle2023--cdc.sandbox.my.site.com/ESWGitHubTest1752671269272',
				{
					scrt2URL: 'https://collinsonlifestyle2023--cdc.sandbox.my.salesforce-scrt.com'
				}
			);
		} catch (err) {
			console.error('Error loading Embedded Messaging: ', err);
		}
	};
</script>
<script type='text/javascript' src='https://collinsonlifestyle2023--cdc.sandbox.my.site.com/ESWGitHubTest1752671269272/assets/js/bootstrap.min.js'></script>

</body>
</html>
